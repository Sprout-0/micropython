from buzzer_music import music
from time import sleep
from machine import Pin
import _thread

'''
import uos
uos.task_pin(1, False)
'''

#夜の子供たち
song = '0 G#6 4 41 0.7322834645669292;4 B6 2 41 0.8976377952755905;6 C#7 2 41 0.8976377952755905;8 D#7 2 41 0.7322834645669292;12 B6 4 41 0.8188976377952756;12 G#6 4 41 0.8188976377952756;16 E6 4 41 0.7322834645669292;20 C#7 2 41 0.8976377952755905;22 B6 2 41 0.8976377952755905;24 A#6 2 41 0.7322834645669292;32 G#6 4 41 0.7322834645669292;36 B6 2 41 0.8976377952755905;38 C#7 2 41 0.8976377952755905;40 D#7 2 41 0.7322834645669292;44 B6 4 41 0.8188976377952756;48 E7 4 41 0.7322834645669292;52 F#7 2 41 0.8976377952755905;54 E7 2 41 0.8976377952755905;56 D#7 2 41 0.7322834645669292;64 G#6 4 41 0.7322834645669292;64 D#6 4 41 0.7322834645669292;68 B6 2 41 0.8976377952755905;70 C#7 2 41 0.8976377952755905;72 D#7 2 41 0.7322834645669292;76 G#6 4 41 0.8188976377952756;80 E6 4 41 0.7322834645669292;84 C#7 2 41 0.8976377952755905;86 B6 2 41 0.8976377952755905;88 A#6 2 41 0.7322834645669292;96 B6 2 41 0.7322834645669292;98 C#7 2 41 0.7322834645669292;100 D#7 2 41 0.8976377952755905;102 B6 2 41 0.8976377952755905;104 C#7 2 41 0.7322834645669292;106 D#7 2 41 0.7322834645669292;108 C#7 2 41 0.8188976377952756;110 B6 2 41 0.8188976377952756;112 A#6 2 41 0.7322834645669292;114 G#6 2 41 0.7322834645669292;116 A#6 2 41 0.8976377952755905;118 G6 2 41 0.8976377952755905;120 G#6 2 41 0.7322834645669292;128 G#7 2 41 0.7322834645669292;130 F#7 2 41 0.7322834645669292;132 E7 2 41 0.8976377952755905;134 D#7 2 41 0.8976377952755905;136 C#7 2 41 0.7322834645669292;138 D#7 2 41 0.7322834645669292;140 E7 2 41 0.8188976377952756;142 C#7 2 41 0.8188976377952756;144 F#7 2 41 0.7322834645669292;146 E7 2 41 0.7322834645669292;148 D#7 2 41 0.8976377952755905;150 C#7 2 41 0.8976377952755905;152 B6 2 41 0.7322834645669292;154 C#7 2 41 0.7322834645669292;156 D#7 2 41 0.8188976377952756;158 B6 2 41 0.8188976377952756;160 E7 2 41 0.7322834645669292;162 D#7 2 41 0.7322834645669292;164 C#7 2 41 0.8976377952755905;166 B6 2 41 0.8976377952755905;168 A#6 2 41 0.7322834645669292;170 B6 2 41 0.7322834645669292;172 C#7 2 41 0.8188976377952756;174 A#6 2 41 0.8188976377952756;176 B6 2 41 0.7322834645669292;178 G#6 2 41 0.7322834645669292;180 B6 2 41 0.8976377952755905;182 D#7 2 41 0.8976377952755905;184 G#7 2 41 0.7322834645669292;184 D#6 2 41 0.7322834645669292;186 F#7 2 41 0.7322834645669292;188 E7 2 41 0.8188976377952756;190 F#7 2 41 0.8188976377952756;192 G#7 2 41 0.7322834645669292;194 F#7 2 41 0.7322834645669292;196 E7 2 41 0.8976377952755905;198 D#7 2 41 0.8976377952755905;200 C#7 2 41 0.7322834645669292;202 D#7 2 41 0.7322834645669292;204 E7 2 41 0.8188976377952756;206 C#7 2 41 0.8188976377952756;208 F#7 2 41 0.7322834645669292;210 E7 2 41 0.7322834645669292;212 D#7 2 41 0.8976377952755905;214 C#7 2 41 0.8976377952755905;216 B6 2 41 0.7322834645669292;218 C#7 2 41 0.7322834645669292;220 D#7 2 41 0.8188976377952756;222 B6 2 41 0.8188976377952756;224 E7 2 41 0.7322834645669292;226 D#7 2 41 0.7322834645669292;228 C#7 2 41 0.8976377952755905;230 B6 2 41 0.8976377952755905;232 A#6 2 41 0.7322834645669292;234 B6 2 41 0.7322834645669292;236 C#7 2 41 0.8188976377952756;238 A#6 2 41 0.8188976377952756;240 B6 2 41 0.7322834645669292;242 A#6 2 41 0.7322834645669292;244 G#6 2 41 0.8976377952755905;246 G6 2 41 0.8976377952755905;248 G#6 2 41 0.7322834645669292;256 G#6 4 41 0.7322834645669292;260 B6 2 41 0.8976377952755905;262 C#7 2 41 0.8976377952755905;264 D#7 2 41 0.7322834645669292;268 B6 4 41 0.8188976377952756;268 G#6 4 41 0.8188976377952756;272 E6 4 41 0.7322834645669292;276 C#7 2 41 0.8976377952755905;278 B6 2 41 0.8976377952755905;280 A#6 2 41 0.7322834645669292;288 G#6 4 41 0.7322834645669292;292 B6 2 41 0.8976377952755905;294 C#7 2 41 0.8976377952755905;296 D#7 2 41 0.7322834645669292;300 B6 4 41 0.8188976377952756;300 G#6 4 41 0.8188976377952756;304 E7 4 41 0.7322834645669292;308 F#7 2 41 0.8976377952755905;310 E7 2 41 0.8976377952755905;312 D#7 2 41 0.7322834645669292;320 G#6 4 41 0.8976377952755905;320 D#6 4 41 0.8976377952755905;324 B6 2 41 0.8976377952755905;326 C#7 2 41 0.8976377952755905;328 D#7 2 41 0.7322834645669292;332 G#6 4 41 0.8188976377952756;336 E6 4 41 0.7322834645669292;340 C#7 2 41 0.8976377952755905;342 B6 2 41 0.8976377952755905;344 A#6 2 41 0.7322834645669292;352 B6 2 41 0.7322834645669292;354 C#7 2 41 0.7322834645669292;356 D#7 2 41 0.8976377952755905;358 B6 2 41 0.8976377952755905;360 C#7 2 41 0.7322834645669292;362 D#7 2 41 0.7322834645669292;364 C#7 2 41 0.8188976377952756;366 B6 2 41 0.8188976377952756;368 A#6 2 41 0.7322834645669292;370 G#6 2 41 0.7322834645669292;372 A#6 2 41 0.8976377952755905;374 G6 2 41 0.8976377952755905;376 G#6 4 41 0.7322834645669292'

song2 = '0 G#4 2 41 0.6929133858267716;2 D#5 2 41 0.6929133858267716;4 G#5 2 41 0.5354330708661418;6 D#5 2 41 0.5354330708661418;8 G#4 2 41 0.6141732283464567;10 D#5 2 41 0.6141732283464567;12 G#5 2 41 0.5354330708661418;14 D#5 2 41 0.5354330708661418;16 E4 2 41 0.6929133858267716;18 B4 2 41 0.6929133858267716;20 E5 2 41 0.5354330708661418;22 B4 2 41 0.5354330708661418;24 D#4 2 41 0.6141732283464567;26 A#4 2 41 0.6141732283464567;28 D#5 2 41 0.5354330708661418;30 A#4 2 41 0.5354330708661418;32 G#4 2 41 0.6929133858267716;34 D#5 2 41 0.6929133858267716;36 G#5 2 41 0.5354330708661418;38 D#5 2 41 0.5354330708661418;40 G#4 2 41 0.6141732283464567;42 D#5 2 41 0.6141732283464567;44 G#5 2 41 0.5354330708661418;46 D#5 2 41 0.5354330708661418;48 E4 2 41 0.6929133858267716;50 B4 2 41 0.6929133858267716;52 E5 2 41 0.5354330708661418;54 B4 2 41 0.5354330708661418;56 D#4 2 41 0.6141732283464567;58 A#4 2 41 0.6141732283464567;60 D#5 2 41 0.5354330708661418;62 A#4 2 41 0.5354330708661418;64 G#4 2 41 0.6929133858267716;66 D#5 2 41 0.6929133858267716;68 G#5 2 41 0.5354330708661418;70 D#5 2 41 0.5354330708661418;72 G#4 2 41 0.6141732283464567;74 D#5 2 41 0.6141732283464567;76 G#5 2 41 0.5354330708661418;78 D#5 2 41 0.5354330708661418;80 E4 2 41 0.6929133858267716;82 B4 2 41 0.6929133858267716;84 E5 2 41 0.5354330708661418;86 B4 2 41 0.5354330708661418;88 D#4 2 41 0.6141732283464567;90 A#4 2 41 0.6141732283464567;92 D#5 2 41 0.5354330708661418;94 A#4 2 41 0.5354330708661418;96 G#4 2 41 0.6929133858267716;98 D#5 2 41 0.6929133858267716;100 G#5 2 41 0.5354330708661418;102 D#5 2 41 0.5354330708661418;104 E4 2 41 0.6141732283464567;106 B4 2 41 0.6141732283464567;108 E5 2 41 0.5354330708661418;110 B4 2 41 0.5354330708661418;112 D#4 2 41 0.6929133858267716;114 A#4 2 41 0.6929133858267716;116 D#5 2 41 0.5354330708661418;118 A#4 2 41 0.5354330708661418;120 G#4 2 41 0.6141732283464567;122 D#5 2 41 0.6141732283464567;124 G#5 2 41 0.5354330708661418;126 D#5 2 41 0.5354330708661418;128 E4 2 41 0.6929133858267716;130 B4 2 41 0.6929133858267716;132 E5 2 41 0.5354330708661418;134 B4 2 41 0.5354330708661418;136 F#4 2 41 0.6141732283464567;138 C#5 2 41 0.6141732283464567;140 F#5 2 41 0.5354330708661418;142 C#5 2 41 0.5354330708661418;144 D#4 2 41 0.6929133858267716;146 A#4 2 41 0.6929133858267716;148 D#5 2 41 0.5354330708661418;150 A#4 2 41 0.5354330708661418;152 G#4 2 41 0.6141732283464567;154 D#5 2 41 0.6141732283464567;156 G#5 2 41 0.5354330708661418;158 D#5 2 41 0.5354330708661418;160 C#4 2 41 0.6929133858267716;162 G#4 2 41 0.6929133858267716;164 C#5 2 41 0.5354330708661418;166 G#4 2 41 0.5354330708661418;168 D#4 2 41 0.6141732283464567;170 A#4 2 41 0.6141732283464567;172 D#5 2 41 0.5354330708661418;174 A#4 2 41 0.5354330708661418;176 G#4 2 41 0.6929133858267716;178 D#5 2 41 0.6929133858267716;180 B4 2 41 0.5354330708661418;182 D#5 2 41 0.5354330708661418;184 G#4 2 41 0.6141732283464567;184 D#4 2 41 0.6141732283464567;186 D#5 2 41 0.6141732283464567;188 G#5 2 41 0.5354330708661418;190 D#5 2 41 0.5354330708661418;192 E4 2 41 0.6929133858267716;194 B4 2 41 0.6929133858267716;196 E5 2 41 0.5354330708661418;198 B4 2 41 0.5354330708661418;200 F#4 2 41 0.6141732283464567;202 C#5 2 41 0.6141732283464567;204 F#5 2 41 0.5354330708661418;206 C#5 2 41 0.5354330708661418;208 D#4 2 41 0.6929133858267716;210 A#4 2 41 0.6929133858267716;212 D#5 2 41 0.5354330708661418;214 A#4 2 41 0.5354330708661418;216 G#4 2 41 0.6141732283464567;218 D#5 2 41 0.6141732283464567;220 G#5 2 41 0.5354330708661418;222 D#5 2 41 0.5354330708661418;224 C#4 2 41 0.6929133858267716;226 G#4 2 41 0.6929133858267716;228 C#5 2 41 0.5354330708661418;230 G#4 2 41 0.5354330708661418;232 D#4 2 41 0.6141732283464567;234 A#4 2 41 0.6141732283464567;236 D#5 2 41 0.5354330708661418;238 A#4 2 41 0.5354330708661418;240 G#4 2 41 0.6929133858267716;242 D#5 2 41 0.6929133858267716;244 G#5 2 41 0.5354330708661418;246 D#5 2 41 0.5354330708661418;248 G#4 2 41 0.6141732283464567;250 D#5 2 41 0.6141732283464567;252 G#5 2 41 0.5354330708661418;254 D#5 2 41 0.5354330708661418;256 G#4 2 41 0.6929133858267716;258 D#5 2 41 0.6929133858267716;260 G#5 2 41 0.5354330708661418;262 D#5 2 41 0.5354330708661418;264 G#4 2 41 0.6141732283464567;266 D#5 2 41 0.6141732283464567;268 G#5 2 41 0.5354330708661418;270 D#5 2 41 0.5354330708661418;272 E4 2 41 0.6929133858267716;274 B4 2 41 0.6929133858267716;276 E5 2 41 0.5354330708661418;278 B4 2 41 0.5354330708661418;280 D#4 2 41 0.6141732283464567;282 A#4 2 41 0.6141732283464567;284 D#5 2 41 0.5354330708661418;286 A#4 2 41 0.5354330708661418;288 G#4 2 41 0.6929133858267716;290 D#5 2 41 0.6929133858267716;292 G#5 2 41 0.5354330708661418;294 D#5 2 41 0.5354330708661418;296 G#4 2 41 0.6141732283464567;298 D#5 2 41 0.6141732283464567;300 G#5 2 41 0.5354330708661418;302 D#5 2 41 0.5354330708661418;304 E4 2 41 0.6929133858267716;306 B4 2 41 0.6929133858267716;308 E5 2 41 0.5354330708661418;310 B4 2 41 0.5354330708661418;312 D#4 2 41 0.6141732283464567;314 A#4 2 41 0.6141732283464567;316 D#5 2 41 0.5354330708661418;318 A#4 2 41 0.5354330708661418;320 G#4 2 41 0.6929133858267716;322 D#5 2 41 0.6929133858267716;324 G#5 2 41 0.5354330708661418;326 D#5 2 41 0.5354330708661418;328 G#4 2 41 0.6141732283464567;330 D#5 2 41 0.6141732283464567;332 G#5 2 41 0.5354330708661418;334 D#5 2 41 0.5354330708661418;336 E4 2 41 0.6929133858267716;338 B4 2 41 0.6929133858267716;340 E5 2 41 0.5354330708661418;342 B4 2 41 0.5354330708661418;344 D#4 2 41 0.6141732283464567;346 A#4 2 41 0.6141732283464567;348 D#5 2 41 0.5354330708661418;350 A#4 2 41 0.5354330708661418;352 G#4 2 41 0.6929133858267716;354 D#5 2 41 0.6929133858267716;356 G#5 2 41 0.5354330708661418;358 D#5 2 41 0.5354330708661418;360 E4 2 41 0.6141732283464567;362 B4 2 41 0.6141732283464567;364 E5 2 41 0.5354330708661418;366 B4 2 41 0.5354330708661418;368 D#4 2 41 0.6929133858267716;370 A#4 2 41 0.6929133858267716;372 D#5 2 41 0.5354330708661418;374 A#4 2 41 0.5354330708661418;213 C#6 1 43'

"""
Find a piece of music on onlinesequencer.net, click edit,
then select all notes with CTRL+A and copy them with CTRL+C
Paste string as shown above after removing ";:" from
the end and "Online Sequencer:120233:" from the start
"""


mySong = music(song, pins=[Pin(11),Pin(13)])
mySong2 = music(song2, pins=[Pin(12)])


#Four buzzers
#mySong = music(song, pins=[Pin(0),Pin(1),Pin(2),Pin(3)])

def run_on_core1():#子线程
    while True:
        mySong2.tick()
        sleep(0.04)


def main():#主线程
    mySong.tick()
    sleep(0.04)

_thread.start_new_thread(run_on_core1, ( ))

if __name__ == '__main__':
    while True:
        main()
